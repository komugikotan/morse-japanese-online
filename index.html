<!DOCTYPE html><html lang=ja><meta charset=UTF-8><meta content="IE=edge"http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1"name=viewport><link href=style.css rel=stylesheet><title>和文モールス　送信練習</title><header><h1>和文モールス　送信練習</h1></header><main><p class=description>スペースキー、もしくは下のボタンを電鍵のように使って入力してください。</p><button id=button></button></main><p id=final>入力した文字はここに表示されます</p><hooter><h3>このサイトはどんなサイト？</h3><p class=description>スペースキーを使って和文モールスを入力できるサイトです。以前も和文モールスを入力できるサイトはありましたが、スペースキーを使って入力できるサイトは少なかったので作成しました。現在、全てのカタカナと数字、一部の記号に対応しています。<h3>作成者</h3><p class=description>このサイトの作成者は、<a href=https://github.com/komugikotan>Komugikotan(Github)</a>です。改善案などは、Githubのリポジトリにお寄せください。また、当サイトをご利用いただく際には、自己責任でお願いいたします。当サイトや当サイトの管理者は、ご利用によって生じたいかなる損害についても責任を負いかねます。ご了承ください。</p></hooter><script>var date=new Date,start_sec=date.getSeconds(),stop_sec=date.getSeconds();document.addEventListener("keydown",keypress_event),document.addEventListener("keyup",keyup_event);var button=document.getElementById("button");let status=null,current_second=null,current_second_hoge=null;var morse="l";let hogehogehoge=null;function convert_morse(l){let e=l;return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll("l.----l","1")).replaceAll("l..---l","2")).replaceAll("l...--l","3")).replaceAll("l....-l","4")).replaceAll("l.....l","5")).replaceAll("l-....l","6")).replaceAll("l--...l","7")).replaceAll("l---..l","8")).replaceAll("l----.l","9")).replaceAll("l-----l","0")).replaceAll("l.-l","イ")).replaceAll("l-.-.l","ロ")).replaceAll("l-...l","ハ")).replaceAll("l-.-.l","ニ")).replaceAll("l-..l","ホ")).replaceAll("l.l","ヘ")).replaceAll("l..-..l","ト")).replaceAll("l..-.l","チ")).replaceAll("l--.l","リ")).replaceAll("l....l","ヌ")).replaceAll("l-.--.l","ル")).replaceAll("l.---l","ヲ")).replaceAll("l-.-l","ワ")).replaceAll("l.-..l","カ")).replaceAll("l--l","ヨ")).replaceAll("l-.l","タ")).replaceAll("l---l","レ")).replaceAll("l---.l","ソ")).replaceAll("l.--.l","ツ")).replaceAll("l--.-l","ネ")).replaceAll("l.-.l","ナ")).replaceAll("l...l","ラ")).replaceAll("l-l","ム")).replaceAll("l..-l","ウ")).replaceAll("l.-..-l","ヰ")).replaceAll("l..--l","ノ")).replaceAll("l.-...l","オ")).replaceAll("l...-l","ク")).replaceAll("l.--l","ヤ")).replaceAll("l-..-l","マ")).replaceAll("l-.--l","ケ")).replaceAll("l--..l","フ")).replaceAll("l----l","コ")).replaceAll("l-.---l","エ")).replaceAll("l.-.--l","テ")).replaceAll("l--.--l","ア")).replaceAll("l-.-.-l","サ")).replaceAll("l-.-..l","キ")).replaceAll("l-..--l","ユ")).replaceAll("l-...-l","メ")).replaceAll("l..-.-l","ミ")).replaceAll("l--.-.l","シ")).replaceAll("l.--..l","ヱ")).replaceAll("l--..-l","ヒ")).replaceAll("l-..-.l","モ")).replaceAll("l.---.l","セ")).replaceAll("l---.-l","ス")).replaceAll("l.-.-.l","ン")).replaceAll("l..l","゛")).replaceAll("l..--.l","゜")).replaceAll("l.--.-l","ー")).replaceAll("l.-.-..l","、")).replaceAll("w","　")).replaceAll(".","")).replaceAll("-","")).replaceAll("l","")}let startTime=null,startTime_hoge=null,elapsedTime=0,elapsedTime_hoge=0;function startTimer(){startTime=Date.now()}function endTimer(){let l=0;return Date.now()-startTime}function startTimer_hoge(){startTime_hoge=Date.now()}function endTimer_hoge(){let l=0;return Date.now()-startTime_hoge}function keypress_event(l){return(" "===l.key||" "===l.key)&&(current_second_hoge=endTimer_hoge()/1e3,1!=status&&(null!=status&&(hogehogehoge=0,current_second_hoge>1&&(1==hogehogehoge||(morse+="lwl",hogehogehoge=1)),current_second_hoge>.5&&(1==hogehogehoge||(morse+="ll",hogehogehoge=1))),final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>",startTimer(),status=1,console.log("pressed"))),!1}function buttonPressed(){return current_second_hoge=endTimer_hoge()/1e3,1!=status&&(null!=status&&(hogehogehoge=0,current_second_hoge>1&&(1==hogehogehoge||(morse+="lwl",hogehogehoge=1)),current_second_hoge>.5&&(1==hogehogehoge||(morse+="ll",hogehogehoge=1))),final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>",startTimer(),status=1,console.log("pressed")),!1}function keyup_event(l){return(" "===l.key||" "===l.key)&&(1==status?(status=0,current_second=endTimer()/1e3,console.log(current_second),0==status&&(current_second>.25?morse+="-":current_second<.25&&(morse+=".")),startTimer_hoge(),final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>"):(final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>")),!1}function buttonReleased(){return 1==status?(status=0,current_second=endTimer()/1e3,console.log(current_second),0==status&&(current_second>.25?morse+="-":current_second<.25&&(morse+=".")),startTimer_hoge(),final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>"):(final=convert_morse(morse),document.getElementById("final").innerHTML="<p>"+final+"</p>"),!1}button.addEventListener("mousedown",buttonPressed),button.addEventListener("mouseup",buttonReleased);</script>